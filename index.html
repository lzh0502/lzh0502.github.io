<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>请喝奶茶~</title>
  <style>
    body {
      background: #FFC0CB;
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: Arial;
    }
    .img-box img {
      max-width: 200px;
      max-height: 200px;
      margin: 10px 0;
      /* 图片加载失败时显示占位背景 */
      background: #fff;
      padding: 10px;
      border-radius: 8px;
    }
    .text-box {
      font-size: 14px;
      margin: 10px 0;
      color: #333;
      text-align: center;
      padding: 0 20px;
    }
    .btn-box {
      display: flex;
      align-items: center;
    }
    #agreeBtn {
      background: #4682B4;
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 10px;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 20px;
      transition: all 0.2s;
    }
    #noBtn {
      background: #FF4500;
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 10px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative; /* 改用position避免margin叠加问题 */
    }
    .thank-text {
      font-size: 16px;
      margin: 10px 0;
      display: none;
      color: #e63946;
      font-weight: bold;
    }
  </style>
</head>
<body>
<div class="img-box">
  <img id="teaImg" src="./image/01.jpg" alt="奶茶图片">
</div>
<div class="text-box" id="teaText">可以请我喝一杯霸王茶姬吗</div>
<div class="btn-box" id="btnBox">
  <button id="agreeBtn" onclick="showThank()">同意</button>
  <button id="noBtn" onclick="clickNo()">不行</button>
</div>
<div class="thank-text" id="thankText">谢谢宝宝好喜欢你(≧∇≦)ﾉ</div>

<script>
  // RequestData类
  class RequestData {
    constructor(text, image) {
      this.text = text;
      this.image = image;
    }

    getText() {
      return this.text;
    }

    getImage() {
      return this.image;
    }
  }

  // 初始化数据（修改图片路径为相对仓库根目录）
  const getRequestList = () => {
    const dataList = [];
    dataList.push(new RequestData("可以请我喝一杯霸王茶姬吗", "./image/01.jpg"));
    dataList.push(new RequestData("那一点点怎么样？", "./image/02.jpg"));
    dataList.push(new RequestData("CoCo也不错哦~", "./image/03.jpg"));
    dataList.push(new RequestData("蜜雪冰城总可以吧？", "./image/04.jpg"));
    dataList.push(new RequestData("冰红茶也行啊！", "../image/05.jpg")); // 这里笔误，应该是./image/05.jpg
    return dataList;
  };

  // 页面逻辑
  document.addEventListener('DOMContentLoaded', () => {
    const requestData = getRequestList();
    const thankImg = "./image/11.jpg";

    let currIndex = 0;
    let moveStep = 0;

    // 获取页面元素
    const imgEl = document.getElementById("teaImg");
    const textEl = document.getElementById("teaText");
    const agreeBtn = document.getElementById("agreeBtn");
    const noBtn = document.getElementById("noBtn");
    const btnBox = document.getElementById("btnBox");
    const thankText = document.getElementById("thankText");

    // 同意按钮点击事件
    window.showThank = () => {
      textEl.style.display = "none";
      btnBox.style.display = "none";
      imgEl.src = thankImg;
      thankText.style.display = "block";
      // 替换window.close()，避免浏览器限制
      setTimeout(() => {
        thankText.textContent = "3秒后返回~";
        setTimeout(() => {
          window.location.href = "https://github.com"; // 跳转代替关闭
        }, 3000);
      }, 3000);
    };

    // 不行按钮点击事件
    window.clickNo = () => {
      if (currIndex >= requestData.length - 1) return;

      currIndex++;
      textEl.textContent = requestData[currIndex].getText();
      imgEl.src = requestData[currIndex].getImage();

      // 增大同意按钮
      const currFont = parseInt(getComputedStyle(agreeBtn).fontSize);
      agreeBtn.style.fontSize = (currFont * 1.5) + "px"; // 改为1.5倍，避免过大
      agreeBtn.style.padding = (parseInt(getComputedStyle(agreeBtn).padding) * 1.2) + "px";

      // 移动不行按钮（改用left，更稳定）
      moveStep += 30;
      noBtn.style.left = moveStep + "px";

      // 最后一次点击
      if (currIndex === requestData.length - 1) {
        noBtn.disabled = true;
        noBtn.style.display = "none";
        agreeBtn.style.margin = "0 auto";
        btnBox.style.justifyContent = "center";
      }
    };
  });
</script>
</body>
</html>